{"version":3,"sources":["../index.js"],"names":["SOURCES","GOOGLE","EBAY","AMAZON","YOUTUBE","LongTail","apiKey","keyword","callback","country","language","source","post","header","send","end","result","status","error","res","body"],"mappings":";;;;;;;;;AAAA;;;;;;;;AAEO,IAAMA,4BAAU;AACtBC,SAAS,QADa;AAEtBC,OAAS,MAFa;AAGtBC,SAAS,QAHa;AAItBC,UAAS;AAJa,CAAhB;;IAOcC,Q;AACpB,mBAAYC,MAAZ,EAAoB;AAAA;;AACnB,OAAKA,MAAL,GAAcA,MAAd;AACA;;;;0BAEOC,O,EAASC,Q,EAAoE;AAAA,OAA1DC,OAA0D,uEAAhD,IAAgD;AAAA,OAA1CC,QAA0C,uEAA/B,IAA+B;AAAA,OAAzBC,MAAyB,uEAAhBX,QAAQC,MAAQ;;AACpF,qBAAQW,IAAR,CAAa,yEAAb,EACEC,MADF,CACS,eADT,EAC0B,KAAKP,MAD/B,EAEEO,MAFF,CAES,cAFT,EAEyB,mCAFzB,EAGEA,MAHF,CAGS,QAHT,EAGmB,kBAHnB,EAIEC,IAJF,cAIkBL,OAJlB,EAKEK,IALF,cAKkBP,OALlB,EAMEO,IANF,eAMmBJ,QANnB,EAOEI,IAPF,aAOiBH,MAPjB,EAQEI,GARF,CAQM,UAACC,MAAD,EAAY;AAChB,QAAIA,OAAOC,MAAP,IAAiB,GAArB,EAA0B;AACzBT,cAASQ,OAAOE,KAAP,GAAeF,OAAOE,KAAtB,GAA8B,4BAAvC;AACA,KAFD,MAEO;AACN,SAAMC,MAAMH,OAAOI,IAAnB;;AAEA,SAAID,IAAID,KAAR,EAAe;AACdV,eAASW,IAAID,KAAb;AACA,MAFD,MAEO;AACNV,eAAS,IAAT,EAAe,aAAaW,GAAb,GAAmBA,IAAI,SAAJ,CAAnB,GAAoC,EAAnD;AACA;AACD;AACD,IApBF;AAqBA;;;;;;kBA3BmBd,Q","file":"index.js","sourcesContent":["import unirest from 'unirest';\n\nexport const SOURCES = {\n\tGOOGLE : 'google',\n\tEBAY   : 'ebay',\n\tAMAZON : 'amazon',\n\tYOUTUBE: 'youtube'\n};\n\nexport default class LongTail {\n\tconstructor(apiKey) {\n\t\tthis.apiKey = apiKey;\n\t}\n\n\tsuggest(keyword, callback, country = 'us', language = 'en', source = SOURCES.GOOGLE) {\n\t\tunirest.post(\"https://ciokan-keyword-suggestion-v1.p.mashape.com/api/keyword/suggest/\")\n\t\t\t.header(\"X-Mashape-Key\", this.apiKey)\n\t\t\t.header(\"Content-Type\", \"application/x-www-form-urlencoded\")\n\t\t\t.header(\"Accept\", \"application/json\")\n\t\t\t.send(`country=${country}`)\n\t\t\t.send(`keyword=${keyword}`)\n\t\t\t.send(`language=${language}`)\n\t\t\t.send(`source=${source}`)\n\t\t\t.end((result) => {\n\t\t\t\tif (result.status != 200) {\n\t\t\t\t\tcallback(result.error ? result.error : \"Error fetching suggestions\");\n\t\t\t\t} else {\n\t\t\t\t\tconst res = result.body;\n\n\t\t\t\t\tif (res.error) {\n\t\t\t\t\t\tcallback(res.error);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback(null, 'results' in res ? res['results'] : []);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t}\n}"]}